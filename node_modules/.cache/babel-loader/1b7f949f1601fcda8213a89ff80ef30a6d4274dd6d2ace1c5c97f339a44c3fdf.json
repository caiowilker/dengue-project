{"ast":null,"code":"// src/services/firebaseService.js\nimport { db } from '../firebase';\nimport { collection, addDoc, query, where, getDocs } from 'firebase/firestore';\nexport const addRelato = async relato => {\n  try {\n    await addDoc(collection(db, 'relatos'), {\n      descricao: relato.descricao,\n      data: new Date(),\n      // Armazenando a data atual\n      localizacao: relato.localizacao\n    });\n  } catch (error) {\n    console.error(\"Erro ao adicionar relato: \", error);\n    throw error; // Re-lança o erro para tratamento\n  }\n};\nexport const getRelatos = async () => {\n  const relatosCollection = collection(db, 'relatos');\n  const querySnapshot = await getDocs(relatosCollection);\n  return querySnapshot.docs.map(doc => ({\n    id: doc.id,\n    ...doc.data()\n  }));\n};\nexport const buscarRelatosPorIntervaloDeDatas = async (dataInicio, dataFim) => {\n  const relatosCollection = collection(db, 'relatos');\n\n  // Convertendo strings em objetos Date\n  const inicio = new Date(dataInicio);\n  const fim = new Date(dataFim);\n  const q = query(relatosCollection, where(\"data\", \">=\", inicio), where(\"data\", \"<=\", fim));\n  const querySnapshot = await getDocs(q);\n  return querySnapshot.docs.map(doc => ({\n    id: doc.id,\n    ...doc.data()\n  }));\n};","map":{"version":3,"names":["db","collection","addDoc","query","where","getDocs","addRelato","relato","descricao","data","Date","localizacao","error","console","getRelatos","relatosCollection","querySnapshot","docs","map","doc","id","buscarRelatosPorIntervaloDeDatas","dataInicio","dataFim","inicio","fim","q"],"sources":["C:/Users/Família/Documents/dengue-project/src/services/firebaseService.js"],"sourcesContent":["// src/services/firebaseService.js\r\nimport { db } from '../firebase';\r\nimport { collection, addDoc, query, where, getDocs } from 'firebase/firestore';\r\n\r\nexport const addRelato = async (relato) => {\r\n    try {\r\n        await addDoc(collection(db, 'relatos'), {\r\n            descricao: relato.descricao,\r\n            data: new Date(), // Armazenando a data atual\r\n            localizacao: relato.localizacao\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Erro ao adicionar relato: \", error);\r\n        throw error; // Re-lança o erro para tratamento\r\n    }\r\n};\r\n\r\nexport const getRelatos = async () => {\r\n    const relatosCollection = collection(db, 'relatos');\r\n    const querySnapshot = await getDocs(relatosCollection);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n\r\nexport const buscarRelatosPorIntervaloDeDatas = async (dataInicio, dataFim) => {\r\n    const relatosCollection = collection(db, 'relatos');\r\n\r\n    // Convertendo strings em objetos Date\r\n    const inicio = new Date(dataInicio);\r\n    const fim = new Date(dataFim);\r\n\r\n    const q = query(relatosCollection,\r\n        where(\"data\", \">=\", inicio),\r\n        where(\"data\", \"<=\", fim)\r\n    );\r\n\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n"],"mappings":"AAAA;AACA,SAASA,EAAE,QAAQ,aAAa;AAChC,SAASC,UAAU,EAAEC,MAAM,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,QAAQ,oBAAoB;AAE9E,OAAO,MAAMC,SAAS,GAAG,MAAOC,MAAM,IAAK;EACvC,IAAI;IACA,MAAML,MAAM,CAACD,UAAU,CAACD,EAAE,EAAE,SAAS,CAAC,EAAE;MACpCQ,SAAS,EAAED,MAAM,CAACC,SAAS;MAC3BC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC;MAAE;MAClBC,WAAW,EAAEJ,MAAM,CAACI;IACxB,CAAC,CAAC;EACN,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,MAAMA,KAAK,CAAC,CAAC;EACjB;AACJ,CAAC;AAED,OAAO,MAAME,UAAU,GAAG,MAAAA,CAAA,KAAY;EAClC,MAAMC,iBAAiB,GAAGd,UAAU,CAACD,EAAE,EAAE,SAAS,CAAC;EACnD,MAAMgB,aAAa,GAAG,MAAMX,OAAO,CAACU,iBAAiB,CAAC;EACtD,OAAOC,aAAa,CAACC,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;IAAEC,EAAE,EAAED,GAAG,CAACC,EAAE;IAAE,GAAGD,GAAG,CAACV,IAAI,CAAC;EAAE,CAAC,CAAC,CAAC;AACzE,CAAC;AAED,OAAO,MAAMY,gCAAgC,GAAG,MAAAA,CAAOC,UAAU,EAAEC,OAAO,KAAK;EAC3E,MAAMR,iBAAiB,GAAGd,UAAU,CAACD,EAAE,EAAE,SAAS,CAAC;;EAEnD;EACA,MAAMwB,MAAM,GAAG,IAAId,IAAI,CAACY,UAAU,CAAC;EACnC,MAAMG,GAAG,GAAG,IAAIf,IAAI,CAACa,OAAO,CAAC;EAE7B,MAAMG,CAAC,GAAGvB,KAAK,CAACY,iBAAiB,EAC7BX,KAAK,CAAC,MAAM,EAAE,IAAI,EAAEoB,MAAM,CAAC,EAC3BpB,KAAK,CAAC,MAAM,EAAE,IAAI,EAAEqB,GAAG,CAC3B,CAAC;EAED,MAAMT,aAAa,GAAG,MAAMX,OAAO,CAACqB,CAAC,CAAC;EACtC,OAAOV,aAAa,CAACC,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;IAAEC,EAAE,EAAED,GAAG,CAACC,EAAE;IAAE,GAAGD,GAAG,CAACV,IAAI,CAAC;EAAE,CAAC,CAAC,CAAC;AACzE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}