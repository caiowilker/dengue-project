{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fam\\xEDlia\\\\Documents\\\\dengue-project\\\\src\\\\components\\\\MapView.js\",\n  _s = $RefreshSig$();\n// src/components/MapView.js\nimport React, { useEffect, useRef } from 'react';\nimport { getRelatos } from '../services/firebaseService';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Define um ícone de marcador vermelho personalizado\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst redIcon = new L.Icon({\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n  className: 'red-icon' // Adiciona uma classe CSS para mais customização, se necessário\n});\nfunction MapView() {\n  _s();\n  const mapRef = useRef(null); // useRef para garantir que o mapa seja inicializado apenas uma vez\n\n  useEffect(() => {\n    if (!mapRef.current) {\n      // Inicializa o mapa\n      const mapInstance = L.map('map').setView([-15.7801, -47.9292], 4); // Centro do Brasil\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19,\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      }).addTo(mapInstance);\n      mapRef.current = mapInstance; // Armazena a instância do mapa em mapRef\n    }\n    const fetchRelatos = async () => {\n      const relatos = await getRelatos();\n      relatos.forEach(relato => {\n        const {\n          localizacao,\n          descricao\n        } = relato;\n\n        // Adiciona marcador vermelho com posição exata\n        L.marker([localizacao.latitude, localizacao.longitude], {\n          icon: redIcon\n        }).addTo(mapRef.current).bindPopup(`<strong>Relato:</strong> ${descricao}`);\n      });\n    };\n    fetchRelatos();\n  }, []); // Array vazio para rodar apenas na montagem\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    style: {\n      height: '100vh'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 12\n  }, this);\n}\n_s(MapView, \"9mn7MMe4fPaZ50ApsOpRWF2HbFg=\");\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useEffect","useRef","getRelatos","L","jsxDEV","_jsxDEV","redIcon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","shadowSize","className","MapView","_s","mapRef","current","mapInstance","map","setView","tileLayer","maxZoom","attribution","addTo","fetchRelatos","relatos","forEach","relato","localizacao","descricao","marker","latitude","longitude","icon","bindPopup","id","style","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Família/Documents/dengue-project/src/components/MapView.js"],"sourcesContent":["// src/components/MapView.js\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { getRelatos } from '../services/firebaseService';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\n// Define um ícone de marcador vermelho personalizado\r\nconst redIcon = new L.Icon({\r\n    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41],\r\n    className: 'red-icon' // Adiciona uma classe CSS para mais customização, se necessário\r\n});\r\n\r\nfunction MapView() {\r\n    const mapRef = useRef(null); // useRef para garantir que o mapa seja inicializado apenas uma vez\r\n\r\n    useEffect(() => {\r\n        if (!mapRef.current) {\r\n            // Inicializa o mapa\r\n            const mapInstance = L.map('map').setView([-15.7801, -47.9292], 4); // Centro do Brasil\r\n            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n                maxZoom: 19,\r\n                attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n            }).addTo(mapInstance);\r\n\r\n            mapRef.current = mapInstance; // Armazena a instância do mapa em mapRef\r\n        }\r\n\r\n        const fetchRelatos = async () => {\r\n            const relatos = await getRelatos();\r\n\r\n            relatos.forEach(relato => {\r\n                const { localizacao, descricao } = relato;\r\n                \r\n                // Adiciona marcador vermelho com posição exata\r\n                L.marker([localizacao.latitude, localizacao.longitude], { icon: redIcon })\r\n                    .addTo(mapRef.current)\r\n                    .bindPopup(`<strong>Relato:</strong> ${descricao}`);\r\n            });\r\n        };\r\n\r\n        fetchRelatos();\r\n    }, []); // Array vazio para rodar apenas na montagem\r\n\r\n    return <div id=\"map\" style={{ height: '100vh' }}></div>;\r\n}\r\n\r\nexport default MapView;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,UAAU,QAAQ,6BAA6B;AACxD,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;;AAEjC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,OAAO,GAAG,IAAIH,CAAC,CAACI,IAAI,CAAC;EACvBC,OAAO,EAAE,6EAA6E;EACtFC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EACpBC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;EACrBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EACpBC,SAAS,EAAE,UAAU,CAAC;AAC1B,CAAC,CAAC;AAEF,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACf,MAAMC,MAAM,GAAGf,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE7BD,SAAS,CAAC,MAAM;IACZ,IAAI,CAACgB,MAAM,CAACC,OAAO,EAAE;MACjB;MACA,MAAMC,WAAW,GAAGf,CAAC,CAACgB,GAAG,CAAC,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACnEjB,CAAC,CAACkB,SAAS,CAAC,oDAAoD,EAAE;QAC9DC,OAAO,EAAE,EAAE;QACXC,WAAW,EAAE;MACjB,CAAC,CAAC,CAACC,KAAK,CAACN,WAAW,CAAC;MAErBF,MAAM,CAACC,OAAO,GAAGC,WAAW,CAAC,CAAC;IAClC;IAEA,MAAMO,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC7B,MAAMC,OAAO,GAAG,MAAMxB,UAAU,CAAC,CAAC;MAElCwB,OAAO,CAACC,OAAO,CAACC,MAAM,IAAI;QACtB,MAAM;UAAEC,WAAW;UAAEC;QAAU,CAAC,GAAGF,MAAM;;QAEzC;QACAzB,CAAC,CAAC4B,MAAM,CAAC,CAACF,WAAW,CAACG,QAAQ,EAAEH,WAAW,CAACI,SAAS,CAAC,EAAE;UAAEC,IAAI,EAAE5B;QAAQ,CAAC,CAAC,CACrEkB,KAAK,CAACR,MAAM,CAACC,OAAO,CAAC,CACrBkB,SAAS,CAAC,4BAA4BL,SAAS,EAAE,CAAC;MAC3D,CAAC,CAAC;IACN,CAAC;IAEDL,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,oBAAOpB,OAAA;IAAK+B,EAAE,EAAC,KAAK;IAACC,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAQ;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAC3D;AAAC3B,EAAA,CAhCQD,OAAO;AAAA6B,EAAA,GAAP7B,OAAO;AAkChB,eAAeA,OAAO;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}